@model GundamZoneProject.Models.ResetPasswordViewModel
@{
    ViewBag.Title = "Đặt lại mật khẩu";
}
<link rel="stylesheet" type="text/css" href="~/Content/assets/styles/main_styles.css">

<style>
    .reset-container {
        max-width: 600px;
        margin: 140px auto 40px auto;
    }

    .reset-card {
        background: #fff;
        padding: 30px 35px;
        border-radius: 12px;
        box-shadow: 0px 6px 25px rgba(0,0,0,0.08);
    }

        .reset-card h3 {
            text-align: center;
            font-weight: 700;
            margin-bottom: 20px;
            font-size: 24px;
        }

    .form-group label {
        font-weight: 600;
        margin-bottom: 5px;
    }

    .btn-submit {
        width: 100%;
        padding: 10px 0;
        background: #007bff;
        color: #fff;
        border-radius: 6px;
        border: none;
        font-size: 16px;
        font-weight: 600;
        transition: 0.2s;
    }

        .btn-submit:hover {
            background: #005ec4;
        }
    .password-wrapper {
        position: relative;
    }

        .password-wrapper .form-control {
            padding-right: 40px; /* chừa chỗ cho icon */
        }

    .toggle-password {
        position: absolute;
        top: 50%;
        right: 12px;
        transform: translateY(-50%);
        cursor: pointer;
        color: #999;
        font-size: 18px;
    }

        .toggle-password:hover {
            color: #333;
        }

</style>


<div class="reset-container">
    <div class="reset-card">

        <h3>@ViewBag.Title</h3>

        @using (Html.BeginForm("ResetPassword", "Account", FormMethod.Post))
        {
            @Html.AntiForgeryToken()
            @Html.ValidationSummary("", new { @class = "text-danger mb-3" })

            @Html.HiddenFor(model => model.Code)

            <div class="form-group">
                @Html.LabelFor(m => m.Email)
                @Html.TextBoxFor(m => m.Email, new { @class = "form-control", placeholder = "Nhập email" })
            </div>

            <div class="form-group mt-3">
                @Html.LabelFor(m => m.Password)
                <div class="password-wrapper">
                    @Html.PasswordFor(m => m.Password, new { @class = "form-control", @id = "passwordInput", placeholder = "Mật khẩu mới" })
                    <span class="toggle-password" onclick="togglePassword('passwordInput', this)">
                        <i class="fa fa-eye"></i>
                    </span>
                </div>
            </div>

            <div class="form-group mt-3">
                @Html.LabelFor(m => m.ConfirmPassword)
                <div class="password-wrapper">
                    @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control", @id = "confirmPasswordInput", placeholder = "Nhập lại mật khẩu" })
                    <span class="toggle-password" onclick="togglePassword('confirmPasswordInput', this)">
                        <i class="fa fa-eye"></i>
                    </span>
                </div>
            </div>



            <button type="submit" class="btn-submit mt-4">Đặt lại mật khẩu</button>
        }
    </div>
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")

    <script>
        function togglePassword(inputId, el) {
            const input = document.getElementById(inputId);
            const icon = el.querySelector("i");

            if (input.type === "password") {
                input.type = "text";
                icon.classList.remove("fa-eye");
                icon.classList.add("fa-eye-slash");
            } else {
                input.type = "password";
                icon.classList.remove("fa-eye-slash");
                icon.classList.add("fa-eye");
            }
        }
    </script>
}

